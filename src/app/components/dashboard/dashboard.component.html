<h4 class="govgr-heading-md">Οι προσβάσεις σας</h4>

<p class="govgr-body">
    Στις παρακάτω κάρτες εμφανίζονται οι φορείς και οι μονάδες που έχετε πρόσβαση και οι επιτρεπτές ενέργειες σε αυτά.
</p>

<h5 class="govgr-heading-md d-flex align-items-center gap-2">
    Φορείς
    @if (organizations_loading) {
        <div
            class="spinner-border text-primary"
            role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    }
</h5>

@if (organizations.length > 0 && !organizations_loading) {
    <div class="d-flex flex-column flex-lg-row gap-2">
        @for (organization of organizations; track organization) {
            <div
                class="card"
                style="width: 20rem">
                <div class="card-header fw-semibold text-center text-truncate">
                    {{ organization.preferredLabel }}
                </div>
                <div class="card-body text-center d-flex flex-column align-items-center gap-2">
                    <button
                        class="btn btn-primary btn-sm"
                        style="width: fit-content"
                        (click)="editForeas(organization.code)">
                        Επίπεδο Διακυβέρνησης
                    </button>
                    <button
                        class="btn btn-primary btn-sm"
                        style="width: fit-content"
                        (click)="creationRegulation()">
                        Συστατική Διάταξη
                    </button>
                </div>
            </div>
        }
    </div>
    <!-- <div class="govgr-body">
        <ag-grid-angular
            [domLayout]="'autoHeight'"
            [rowData]="organizations"
            [defaultColDef]="defaultColDef"
            [columnDefs]="foreisColDefs"
            [pagination]="true"
            [paginationPageSize]="50"
            [loadingOverlayComponent]="loadingOverlayComponent"
            [loadingOverlayComponentParams]="loadingOverlayComponentParams"
            (onGridReady)="onGridReady($event)"
            class="ag-theme-balham"></ag-grid-angular>
    </div> -->
} @else {
    <div
        class="alert alert-info w-25 mb-4 text-center fw-semibold"
        role="alert">
        Δεν έχετε πρόσβαση σε φορείς.
    </div>
}

<h5 class="govgr-heading-md d-flex align-items-center gap-2">
    Μονάδες
    @if (organizational_units_loading) {
        <div
            class="spinner-border text-primary"
            role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    }
</h5>

@if (organizational_units.length > 0 && !organizational_units_loading) {
    <div class="d-flex flex-column flex-lg-row gap-2">
        @for (organizational_unit of organizational_units; track organizational_unit) {
            <div
                class="card"
                style="width: 20rem">
                <div class="card-header fw-semibold text-center text-truncate">
                    {{ organizationCodesMap.get(organizational_unit.organizationCode) }}
                    <br />
                    {{ organizational_unit.preferredLabel }}
                </div>
                <div class="card-body text-center d-flex flex-column align-items-center gap-2">
                    <button
                        class="btn btn-primary btn-sm"
                        style="width: fit-content"
                        (click)="newRemit(organizational_unit)">
                        Νέα Αρμοδιότητα
                    </button>
                </div>
            </div>
        }
    </div>
} @else {
    <div
        class="alert alert-info w-25 text-center fw-semibold"
        role="alert">
        Δεν έχετε πρόσβαση σε μονάδες.
    </div>
}
